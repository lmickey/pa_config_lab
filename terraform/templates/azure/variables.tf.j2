# Terraform Variables
# Generated by pa_config_lab TerraformGenerator

# =============================================================================
# Azure Provider Variables
# =============================================================================

variable "subscription_id" {
  description = "Azure Subscription ID"
  type        = string
}

variable "tenant_id" {
  description = "Azure AD Tenant ID"
  type        = string
}

# =============================================================================
# Resource Group Variables
# =============================================================================

variable "resource_group_name" {
  description = "Name of the resource group"
  type        = string
  default     = "{{ deployment.resource_group }}"
}

variable "location" {
  description = "Azure region for deployment"
  type        = string
  default     = "{{ deployment.location }}"
}

variable "customer_name" {
  description = "Customer name for resource naming"
  type        = string
  default     = "{{ deployment.customer_name }}"
}

# =============================================================================
# Network Variables
# =============================================================================

variable "vnet_name" {
  description = "Name of the virtual network"
  type        = string
  default     = "{{ deployment.vnet_name }}"
}

variable "vnet_address_space" {
  description = "Address space for the virtual network"
  type        = list(string)
  default     = {{ deployment.virtual_network.address_space | tojson }}
}

variable "firewall_trust_ip" {
  description = "Private IP of the firewall trust interface for routing"
  type        = string
  default     = "10.100.2.4"  # First usable IP in trust subnet
}

# =============================================================================
# Tags
# =============================================================================

variable "tags" {
  description = "Tags to apply to all resources"
  type        = map(string)
  default = {
{% for key, value in deployment.tags.items() %}
    "{{ key }}" = "{{ value }}"
{% endfor %}
    "managed_by" = "pa_config_lab"
  }
}

# =============================================================================
# Firewall Variables
# =============================================================================

{% if has_firewalls %}
variable "firewall_username" {
  description = "Admin username for firewalls"
  type        = string
  default     = "admin"
  sensitive   = true
}

variable "firewall_password" {
  description = "Admin password for firewalls"
  type        = string
  sensitive   = true
}
{% endif %}

# =============================================================================
# Panorama Variables
# =============================================================================

{% if has_panorama %}
variable "panorama_username" {
  description = "Admin username for Panorama"
  type        = string
  default     = "admin"
  sensitive   = true
}

variable "panorama_password" {
  description = "Admin password for Panorama"
  type        = string
  sensitive   = true
}
{% endif %}

# =============================================================================
# Supporting VM Variables
# =============================================================================

{% if has_supporting_vms %}
variable "vm_username" {
  description = "Admin username for supporting VMs"
  type        = string
  sensitive   = true
}

variable "vm_password" {
  description = "Admin password for supporting VMs"
  type        = string
  sensitive   = true
}
{% endif %}

# =============================================================================
# Credential Reference (for Terraform Cloud/Enterprise)
# =============================================================================

variable "credentials" {
  description = "Credential configuration (optional)"
  type = object({
    firewall = optional(object({
      username = string
      password = string
    }))
    panorama = optional(object({
      username = string
      password = string
    }))
    supporting_vms = optional(object({
      username = string
      password = string
    }))
  })
  default   = null
  sensitive = true
}
